<div class="certificates-container">
  <div class="page-header">
    <h1>{{ (i18n.terms$ | async)?.certificatesAndMemorials }}</h1>
    <button class="btn btn-primary create-certificate-btn" (click)="openCreateModal()">{{ (i18n.terms$ | async)?.createNewCertificate }}</button>
  </div>

  <div class="filters-section">
    <div class="filter-row">
      <div class="filter-group">
        <label>{{ (i18n.terms$ | async)?.certificateType }}</label>
        <select class="form-control">
          <option value="">{{ (i18n.terms$ | async)?.everything }}</option>
          <option value="donation">{{ (i18n.terms$ | async)?.donationCertificate }}</option>
          <option value="memorial">{{ (i18n.terms$ | async)?.memorialCertificate }}</option>
          <option value="dedication">{{ (i18n.terms$ | async)?.dedication }}</option>
          <option value="appreciation">{{ (i18n.terms$ | async)?.appreciation }}</option>
        </select>
      </div>
      
      <div class="filter-group">
        <label>{{ (i18n.terms$ | async)?.dateFromFilter }}</label>
        <input type="date" class="form-control">
      </div>

      <div class="filter-group">
        <label>{{ (i18n.terms$ | async)?.dateToFilter }}</label>
        <input type="date" class="form-control">
      </div>

      <div class="filter-group">
        <label>{{ (i18n.terms$ | async)?.donorSearch }}</label>
        <input type="text" class="form-control" [placeholder]="(i18n.terms$ | async)?.donorNamePlaceholder">
      </div>

      <div class="filter-group">
        <label>{{ (i18n.terms$ | async)?.statusFilterCert }}</label>
        <select class="form-control">
          <option value="">{{ (i18n.terms$ | async)?.everything }}</option>
          <option value="draft">{{ (i18n.terms$ | async)?.draftStatusCert }}</option>
          <option value="ready">{{ (i18n.terms$ | async)?.readyForPrint }}</option>
          <option value="printed">{{ (i18n.terms$ | async)?.printedStatus }}</option>
          <option value="delivered">{{ (i18n.terms$ | async)?.deliveredStatus }}</option>
        </select>
      </div>
    </div>
  </div>

  <div class="certificate-types">
    <div class="type-card donation-cert">
      <div class="card-icon">ğŸ“œ</div>
      <h3>{{ (i18n.terms$ | async)?.donationCertificatesCard }}</h3>
      <p>{{ (i18n.terms$ | async)?.donationCertDescription }}</p>
      <div class="stats">
        <span class="count">45</span>
        <span class="label">{{ (i18n.terms$ | async)?.certificatesThisYear }}</span>
      </div>
    </div>
    
    <div class="type-card memorial-cert">
      <div class="card-icon">ğŸ•¯ï¸</div>
      <h3>{{ (i18n.terms$ | async)?.memorialCertificatesCard }}</h3>
      <p>{{ (i18n.terms$ | async)?.memorialCertDescription }}</p>
      <div class="stats">
        <span class="count">28</span>
        <span class="label">{{ (i18n.terms$ | async)?.activeMemorials }}</span>
      </div>
    </div>
    
    <div class="type-card dedication-cert">
      <div class="card-icon">ğŸ›ï¸</div>
      <h3>{{ (i18n.terms$ | async)?.dedicationsCard }}</h3>
      <p>{{ (i18n.terms$ | async)?.dedicationsDescription }}</p>
      <div class="stats">
        <span class="count">12</span>
        <span class="label">{{ (i18n.terms$ | async)?.dedicationsThisYear }}</span>
      </div>
    </div>
    
    <div class="type-card appreciation-cert">
      <div class="card-icon">ğŸ†</div>
      <h3>{{ (i18n.terms$ | async)?.appreciationCertificatesCard }}</h3>
      <p>{{ (i18n.terms$ | async)?.appreciationDescription }}</p>
      <div class="stats">
        <span class="count">18</span>
        <span class="label">{{ (i18n.terms$ | async)?.appreciationThisYear }}</span>
      </div>
    </div>
  </div>

  <div class="certificates-grid">
    <div class="grid-header">
      <div class="grid-col">{{ (i18n.terms$ | async)?.creationDate }}</div>
      <div class="grid-col">{{ (i18n.terms$ | async)?.certificateTypeHeader }}</div>
      <div class="grid-col">{{ (i18n.terms$ | async)?.donorRecipient }}</div>
      <div class="grid-col">{{ (i18n.terms$ | async)?.amountEvent }}</div>
      <div class="grid-col">{{ (i18n.terms$ | async)?.eventDate }}</div>
      <div class="grid-col">{{ (i18n.terms$ | async)?.specialText }}</div>
      <!-- <div class="grid-col">{{ (i18n.terms$ | async)?.statusHeaderCert }}</div> -->
      <div class="grid-col">{{ (i18n.terms$ | async)?.actionsHeaderCert }}</div>
    </div>

    <div class="grid-row" *ngFor="let certificate of certificates">
      <div class="grid-col date-col">
        <span class="creation-date">{{certificate.createdDate | date:'dd/MM/yyyy'}}</span>
      </div>
      <div class="grid-col type-col">
        <span class="cert-type-badge type-{{certificate.type}}">{{certificate.typeText}}</span>
      </div>
      <div class="grid-col recipient-col">
        <strong>{{certificate.recipientName}}</strong>
        <small *ngIf="certificate.donor">{{ (i18n.terms$ | async)?.donorLabel }}: {{getDonorName(certificate)}}</small>
      </div>
      <div class="grid-col amount-col">
        <span class="amount" *ngIf="certificate.amount">â‚ª{{certificate.amount | number}}</span>
        <span class="event" *ngIf="certificate.eventName">{{ (i18n.terms$ | async)?.eventNameDisplay }}: {{certificate.eventName}}</span>
      </div>
      <div class="grid-col">
        <span class="event-date">{{certificate.eventDate | date:'dd/MM/yyyy'}}</span>
      </div>
      <div class="grid-col text-col">
        <span class="special-text">{{certificate.specialText | slice:0:30}}<span *ngIf="certificate && certificate.specialText&& certificate.specialText.length > 30">...</span></span>
      </div>
      <!-- <div class="grid-col status-col">
        <span class="status-badge status-{{certificate.status}}">{{certificate.statusText}}</span>
      </div> -->
      <div class="grid-col actions">
        <button class="btn-icon btn-view" [title]="(i18n.terms$ | async)?.previewAction">ğŸ‘</button>
        <button class="btn-icon btn-edit" [title]="(i18n.terms$ | async)?.editAction" (click)="openEditModal(certificate)">âœ</button>
        <button class="btn-icon btn-reminder" [title]="certificate.reminderId ? '×ª×–×›×•×¨×ª' : '×¦×•×¨ ×ª×–×›×•×¨×ª'" (click)="createReminder(certificate)">
          {{ certificate.reminderId ? 'ğŸ””' : 'ğŸ””â•' }}
        </button>
        <!-- <button class="btn-icon btn-print" [title]="(i18n.terms$ | async)?.printAction" (click)="updateCertificateStatus(certificate, 'printed')">ğŸ–¨</button>
        <button class="btn-icon btn-download" [title]="(i18n.terms$ | async)?.downloadAction">â¬‡</button>
        <button class="btn-icon btn-delivered" [title]="(i18n.terms$ | async)?.markAsDelivered" (click)="updateCertificateStatus(certificate, 'delivered')">âœ…</button> -->
      </div>
    </div>
  </div>

  <div class="pagination">
    <button class="btn-page">{{ (i18n.terms$ | async)?.previousPage }}</button>
    <span class="page-info">{{ (i18n.terms$ | async)?.pageOf?.replace('{current}', '1')?.replace('{total}', '6') }}</span>
    <button class="btn-page">{{ (i18n.terms$ | async)?.nextPage }}</button>
  </div>
</div>


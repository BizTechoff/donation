<div class="home-container">
  <!-- ××¡×š ×˜×¢×™× ×” -->
  <div *ngIf="loading" class="loading-overlay">
    <div class="loading-spinner">
      <div class="spinner-icon">ğŸ’</div>
      <h3>{{ (i18n.terms$ | async)?.loadingData }}</h3>
    </div>
  </div>

  <!-- ×¢××•×“ ×‘×™×ª ×œ××©×ª××©×™× ×œ× ××—×•×‘×¨×™× -->
  <div *ngIf="!loading && !isLoggedIn" class="welcome-section">
    <!-- ×›×•×ª×¨×ª ×¨××©×™×ª ×¢× ×× ×™××¦×™×” -->
    <div class="hero-section" [class.animated]="showWelcomeAnimation">
      <div class="hero-content">
        <h1 class="hero-title">
          <span class="highlight">ğŸŒŸ</span>
          {{ (i18n.terms$ | async)?.donationManagementSystem }}
          <span class="highlight">ğŸŒŸ</span>
        </h1>
        <p class="hero-subtitle">
          {{ (i18n.terms$ | async)?.advancedSystemDescription }}
        </p>
        <div class="hero-stats" *ngIf="showWelcomeAnimation">
          <div class="stat-item" style="--delay: 0.2s">
            <div class="stat-number">{{welcomeStats.totalRaised | number}}</div>
            <div class="stat-label">{{ (i18n.terms$ | async)?.raisedToDate }}</div>
          </div>
          <div class="stat-item" style="--delay: 0.4s">
            <div class="stat-number">{{welcomeStats.donorsCount | number}}</div>
            <div class="stat-label">{{ (i18n.terms$ | async)?.activeDonorsLabel }}</div>
          </div>
          <div class="stat-item" style="--delay: 0.6s">
            <div class="stat-number">{{welcomeStats.campaignsCount}}</div>
            <div class="stat-label">{{ (i18n.terms$ | async)?.campaignsCompleted }}</div>
          </div>
          <div class="stat-item" style="--delay: 0.8s">
            <div class="stat-number">{{welcomeStats.yearsActive}}</div>
            <div class="stat-label">{{ (i18n.terms$ | async)?.yearsActive }}</div>
          </div>
        </div>
      </div>
      
      <!-- ×¨×§×¢ ×× ×™××¦×™×” -->
      <div class="hero-background">
        <div class="floating-icon" style="--delay: 1s; --position: 10%">ğŸ’</div>
        <div class="floating-icon" style="--delay: 1.5s; --position: 20%">ğŸ¯</div>
        <div class="floating-icon" style="--delay: 2s; --position: 30%">ğŸ’°</div>
        <div class="floating-icon" style="--delay: 2.5s; --position: 40%">ğŸ¤</div>
        <div class="floating-icon" style="--delay: 3s; --position: 50%">â¤ï¸</div>
        <div class="floating-icon" style="--delay: 3.5s; --position: 60%">â­</div>
        <div class="floating-icon" style="--delay: 4s; --position: 70%">ğŸŒŸ</div>
        <div class="floating-icon" style="--delay: 4.5s; --position: 80%">ğŸ‰</div>
      </div>
    </div>

    <!-- ×ª×›×•× ×•×ª ×”××¢×¨×›×ª -->
    <div class="features-section" [class.animated]="showWelcomeAnimation">
      <h2>{{ (i18n.terms$ | async)?.systemFeatures }}</h2>
      <div class="features-grid">
        <div class="feature-card" style="--delay: 1s">
          <div class="feature-icon">ğŸ‘¥</div>
          <h3>{{ (i18n.terms$ | async)?.donorManagementFeature }}</h3>
          <p>{{ (i18n.terms$ | async)?.donorManagementDescription }}</p>
        </div>
        <div class="feature-card" style="--delay: 1.2s">
          <div class="feature-icon">ğŸ’°</div>
          <h3>{{ (i18n.terms$ | async)?.donationManagementFeature }}</h3>
          <p>{{ (i18n.terms$ | async)?.donationManagementDescription }}</p>
        </div>
        <div class="feature-card" style="--delay: 1.4s">
          <div class="feature-icon">ğŸ¯</div>
          <h3>{{ (i18n.terms$ | async)?.campaignManagementFeature }}</h3>
          <p>{{ (i18n.terms$ | async)?.campaignManagementDescription }}</p>
        </div>
        <div class="feature-card" style="--delay: 1.6s">
          <div class="feature-icon">ğŸ”„</div>
          <h3>{{ (i18n.terms$ | async)?.standingOrdersFeature }}</h3>
          <p>{{ (i18n.terms$ | async)?.standingOrdersDescription }}</p>
        </div>
        <div class="feature-card" style="--delay: 1.8s">
          <div class="feature-icon">ğŸ—ºï¸</div>
          <h3>{{ (i18n.terms$ | async)?.donorsMapFeature }}</h3>
          <p>{{ (i18n.terms$ | async)?.donorsMapDescription }}</p>
        </div>
        <div class="feature-card" style="--delay: 2s">
          <div class="feature-icon">ğŸ“Š</div>
          <h3>{{ (i18n.terms$ | async)?.reportsAnalyticsFeature }}</h3>
          <p>{{ (i18n.terms$ | async)?.reportsAnalyticsDescription }}</p>
        </div>
      </div>
    </div>

    <!-- ×§×¨×™××” ×œ×¤×¢×•×œ×” -->
    <div class="cta-section" [class.animated]="showWelcomeAnimation">
      <div class="cta-content">
        <h2>{{ (i18n.terms$ | async)?.readyToStart }}</h2>
        <p>{{ (i18n.terms$ | async)?.joinSystemDescription }}</p>
        <div class="cta-buttons">
          <button class="btn btn-primary" routerLink="/sign-in">
            <span class="btn-icon">ğŸš€</span>
            {{ (i18n.terms$ | async)?.systemLogin }}
          </button>
          <button *ngIf="false" class="btn btn-secondary" routerLink="/sign-up">
            <span class="btn-icon">ğŸ“</span>
            {{ (i18n.terms$ | async)?.newRegistration }}
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- ×œ×•×— ××—×•×•× ×™× ×œ××©×ª××©×™× ××—×•×‘×¨×™× -->
  <div *ngIf="!loading && isLoggedIn" class="dashboard-section">
    <!-- ×›×•×ª×¨×ª ×¢× ×‘×¨×›×” -->
    <div class="dashboard-header">
      <h1>{{ (i18n.terms$ | async)?.helloUser?.replace('{name}', currentUser?.name || '') }}</h1>
      <p>{{ (i18n.terms$ | async)?.activitySummary }}</p>
    </div>

    <!-- ×›×¨×˜×™×¡×™ ×¡×˜×˜×™×¡×˜×™×§×” -->
    <div class="stats-grid">
      <div class="stat-card donations">
        <div class="stat-icon">ğŸ’°</div>
        <div class="stat-content">
          <h3>{{ (i18n.terms$ | async)?.totalDonationsTitle }}</h3>
          <div class="stat-number">{{formatCurrency(totalAmount)}}</div>
          <div class="stat-subtitle">{{ (i18n.terms$ | async)?.donationsCountDynamic?.replace('{count}', totalDonations.toString()) }}</div>
        </div>
      </div>
      
      <div class="stat-card donors">
        <div class="stat-icon">ğŸ‘¥</div>
        <div class="stat-content">
          <h3>{{ (i18n.terms$ | async)?.activeDonorsTitle }}</h3>
          <div class="stat-number">{{totalDonors}}</div>
          <div class="stat-subtitle">{{ (i18n.terms$ | async)?.registeredInSystem }}</div>
        </div>
      </div>
      
      <div class="stat-card campaigns">
        <div class="stat-icon">ğŸ¯</div>
        <div class="stat-content">
          <h3>{{ (i18n.terms$ | async)?.activeCampaignsTitle }}</h3>
          <div class="stat-number">{{activeCampaigns}}</div>
          <div class="stat-subtitle">{{ (i18n.terms$ | async)?.runningNow }}</div>
        </div>
      </div>
      
      <div class="stat-card recurring">
        <div class="stat-icon">ğŸ”„</div>
        <div class="stat-content">
          <h3>{{ (i18n.terms$ | async)?.recurringIncome }}</h3>
          <div class="stat-number">{{formatCurrency(monthlyRecurring)}}</div>
          <div class="stat-subtitle">{{ (i18n.terms$ | async)?.monthly }}</div>
        </div>
      </div>
    </div>

    <!-- ×ª×¨×•××•×ª ××—×¨×•× ×•×ª -->
    <div class="recent-section">
      <h2>{{ (i18n.terms$ | async)?.recentDonations }}</h2>
      <div class="recent-donations">
        <div *ngFor="let donation of recentDonations" class="donation-item">
          <div class="donation-info">
            <strong>{{donation.donor?.fullName}}</strong>
            <small>{{formatDate(donation.donationDate)}}</small>
          </div>
          <div class="donation-amount">{{formatCurrency(donation.amount)}}</div>
          <div class="donation-campaign" *ngIf="donation.campaign">
            <span class="campaign-tag">{{donation.campaign.name}}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- ×§××¤×™×™× ×™× ××•×‘×™×œ×™× -->
    <div class="campaigns-section" *ngIf="topCampaigns.length > 0">
      <h2>{{ (i18n.terms$ | async)?.topCampaigns }}</h2>
      <div class="campaigns-grid">
        <div *ngFor="let campaign of topCampaigns" class="campaign-card">
          <h3>{{campaign.name}}</h3>
          <div class="campaign-progress">
            <div class="progress-bar">
              <div class="progress-fill" [style.width.%]="getProgressPercentage(campaign)"></div>
            </div>
            <div class="progress-info">
              <span>{{formatCurrency(campaign.raisedAmount)}} {{ (i18n.terms$ | async)?.outOf }} {{formatCurrency(campaign.targetAmount)}}</span>
              <span class="progress-percentage">{{getProgressPercentage(campaign)}}%</span>
            </div>
          </div>
          <p *ngIf="campaign.description" class="campaign-description">{{campaign.description}}</p>
        </div>
      </div>
    </div>

    <!-- ×¤×¢×•×œ×•×ª ××”×™×¨×•×ª -->
    <div class="quick-actions">
      <h2>{{ (i18n.terms$ | async)?.quickActions }}</h2>
      <div class="actions-grid">
        <button class="action-btn" routerLink="/×¨×©×™××ª ×ª×¨×•××•×ª">
          <div class="action-icon">ğŸ’°</div>
          <span>{{ (i18n.terms$ | async)?.donations }}</span>
        </button>
        <button class="action-btn" routerLink="/×¨×©×™××ª ×ª×•×¨××™×">
          <div class="action-icon">ğŸ‘¥</div>
          <span>{{ (i18n.terms$ | async)?.donors }}</span>
        </button>
        <button class="action-btn" routerLink="/×§××¤×™×™× ×™×">
          <div class="action-icon">ğŸ¯</div>
          <span>{{ (i18n.terms$ | async)?.campaigns }}</span>
        </button>
        <button class="action-btn" routerLink="/×”×•×¨××•×ª ×§×‘×¢">
          <div class="action-icon">ğŸ”„</div>
          <span>{{ (i18n.terms$ | async)?.standingOrders }}</span>
        </button>
        <button class="action-btn" routerLink="/××¤×ª ×ª×•×¨××™×">
          <div class="action-icon">ğŸ—ºï¸</div>
          <span>{{ (i18n.terms$ | async)?.donorsMap }}</span>
        </button>
        <button class="action-btn" routerLink="/×“×•×—×•×ª">
          <div class="action-icon">ğŸ“Š</div>
          <span>{{ (i18n.terms$ | async)?.reports }}</span>
        </button>
      </div>
    </div>
  </div>
</div>